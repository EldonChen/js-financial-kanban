# PRD - 产品愿景

> **文档版本**：v1.1  
> **创建时间**：2025-01-06  
> **最后更新**：2025-01-06  
> **适用项目**：js-financial-kanban

## 1. 产品定位

### 1.1 产品名称
**金融看板系统（Financial Kanban System）**

### 1.2 产品定位
一个面向金融数据管理与分析的**统一看板平台**，为个人投资者、金融分析师和开发者提供：
- **多数据源股票信息管理**：统一管理来自不同数据源的股票信息
- **跨服务数据聚合**：聚合多个后端服务的数据，提供统一视图
- **灵活的数据操作**：支持 CRUD 操作、批量更新、实时数据同步
- **可扩展的架构**：支持多语言后端服务、多数据源适配、BFF 层聚合

### 1.3 核心价值主张
- **统一管理**：将分散在不同服务中的数据统一管理，提供一站式视图
- **多数据源支持**：支持多个股票数据源（akshare、yfinance、easyquotation 等），自动容错和切换
- **实时同步**：支持实时数据更新和进度追踪（SSE）
- **灵活扩展**：模块化架构，支持快速接入新的数据源和服务

## 2. 目标用户

### 2.1 主要用户群体

#### 2.1.1 个人投资者
- **需求**：快速查看和管理关注的股票信息
- **使用场景**：
  - 查看股票列表和详细信息
  - 批量更新股票数据
  - 监控股票价格变化
- **痛点**：
  - 数据分散在不同平台
  - 需要手动同步数据
  - 缺乏统一的管理界面

#### 2.1.2 金融分析师
- **需求**：获取和分析多市场股票数据
- **使用场景**：
  - 分析 A 股、港股、美股市场
  - 对比不同数据源的数据质量
  - 批量处理股票数据
- **痛点**：
  - 需要切换多个数据源
  - 数据格式不统一
  - 缺乏批量操作能力

#### 2.1.3 开发者/技术爱好者
- **需求**：学习和实践多语言后端架构、BFF 模式
- **使用场景**：
  - 学习多语言服务集成
  - 实践 BFF 架构模式
  - 测试不同数据源的 API
- **痛点**：
  - 缺乏完整的示例项目
  - 架构设计复杂
  - 集成测试困难

### 2.2 用户画像

**典型用户：张先生（个人投资者）**
- 年龄：35-45 岁
- 职业：IT 行业，有一定技术背景
- 投资经验：3-5 年
- 使用习惯：
  - 每天查看股票信息 2-3 次
  - 关注 20-50 只股票
  - 需要快速获取最新数据
- 期望：
  - 统一的股票管理界面
  - 快速数据更新
  - 支持多市场（A股、港股、美股）

## 3. 核心问题

### 3.1 问题描述

#### 3.1.1 数据分散问题
- **现状**：股票数据分散在多个数据源（akshare、yfinance、easyquotation 等）
- **影响**：用户需要切换多个平台，数据格式不统一
- **解决方案**：统一数据格式，提供单一入口访问所有数据源

#### 3.1.2 服务集成问题
- **现状**：多个后端服务（Python、Node.js、Rust）数据格式不一致
- **影响**：前端需要处理多种数据格式，代码复杂
- **解决方案**：BFF 层统一数据格式，前端只需处理一种格式

#### 3.1.3 数据同步问题
- **现状**：股票数据需要手动更新，无法实时同步
- **影响**：数据滞后，影响决策
- **解决方案**：支持批量更新、实时进度追踪（SSE）、定时任务

### 3.2 业务价值

- **提升效率**：统一管理，减少切换成本
- **提高准确性**：多数据源容错，确保数据可用性
- **增强体验**：实时进度反馈，提升用户满意度
- **降低复杂度**：BFF 层屏蔽后端差异，前端开发更简单

## 4. 产品愿景

### 4.1 长期愿景（1-2 年）

**成为个人投资者和量化交易者首选的量化交易算法平台**

- **量化交易算法平台**：
  - 提供开放 API，允许用户在系统内编辑和创建量化交易算法
  - 支持算法版本管理和协作
  - 提供算法市场，用户可以分享和交易算法
  - 支持多种编程语言（Python、JavaScript 等）

- **实盘交易能力**：
  - 支持连接主流券商 API（如富途、盈透证券等）
  - 提供实盘交易执行引擎
  - 支持策略回测后直接部署到实盘
  - 提供实盘交易监控和风控管理
  - 支持模拟交易和实盘交易切换

- **数据覆盖**：
  - 支持 A 股、港股、美股全市场
  - 支持更多数据源（Tushare、IEX Cloud、Alpha Vantage 等）
  - 支持更多数据类型（实时行情、财务数据、新闻资讯、技术指标等）

- **功能完善**：
  - 股票组合管理
  - 价格预警和通知
  - 数据分析和可视化
  - 导出和分享功能
  - 个性化配置

### 4.2 中期愿景（6-12 个月）

**构建完整的金融数据管理与量化交易生态系统**

- **核心功能**：
  - 完整的股票信息管理（CRUD、批量操作）
  - 多数据源自动切换和容错
  - 实时数据同步和进度追踪
  - 数据分析和可视化

- **预设量化交易算法与回测**：
  - 提供 10+ 预设量化投资算法（如均线策略、动量策略、均值回归策略、配对交易、统计套利等）
  - 完整的回测引擎，支持历史数据回测
  - 回测分析功能：
    - 收益分析（总收益、年化收益、夏普比率、最大回撤等）
    - 风险分析（波动率、VaR、最大回撤等）
    - 交易分析（交易次数、胜率、平均持仓时间等）
    - 可视化图表（收益曲线、回撤曲线、持仓分布等）
  - 支持自定义回测参数（起始资金、手续费、滑点等）
  - 支持多策略组合回测

- **技术架构**：
  - 稳定的 BFF 层，支持数据聚合和转换
  - 完善的前端界面，支持所有核心功能
  - 量化交易服务（算法管理、回测引擎）
  - 完善的测试和文档

### 4.3 近期愿景（3-6 个月）

**完成核心功能，提供可用的 MVP（最小可行产品）**

- **核心功能**：
  - 股票列表查看和搜索
  - 股票详情查看
  - 股票数据更新（单个和批量）
  - Dashboard 数据概览

- **技术架构**：
  - BFF 层基本功能（Dashboard、Items、Stocks 视图）
  - 前端基础页面（Dashboard、Stocks 列表、Stocks 详情）
  - 基础的数据操作功能

## 5. 产品边界

### 5.1 包含的功能

- ✅ **股票信息管理**：查看、搜索、更新股票信息
- ✅ **多数据源支持**：自动切换和容错
- ✅ **数据聚合**：BFF 层聚合多个后端服务数据
- ✅ **实时进度追踪**：SSE 实时推送操作进度
- ✅ **Dashboard 概览**：统一展示所有数据统计

### 5.2 不包含的功能（当前阶段）

- ❌ **实时行情交易**：不提供交易功能
- ❌ **财务分析工具**：不提供复杂的财务分析
- ❌ **用户认证和权限**：当前为单用户系统
- ❌ **数据导出**：暂不支持数据导出
- ❌ **移动端 App**：当前仅支持 Web 端

### 5.3 未来可能扩展的功能

- 🔮 **股票组合管理**：创建和管理股票组合
- 🔮 **价格预警**：设置价格阈值，触发通知
- 🔮 **数据可视化**：图表展示股票趋势
- 🔮 **数据导出**：支持 CSV、Excel 等格式导出
- 🔮 **用户系统**：多用户支持、权限管理
- 🔮 **量化交易算法平台**：用户自定义算法编辑和运行
- 🔮 **实盘交易**：连接券商 API，支持实盘交易
- 🔮 **算法市场**：算法分享和交易平台

## 6. 成功指标

### 6.1 功能指标

- **数据覆盖**：支持 500+ 股票（当前目标）
- **数据源数量**：支持 3+ 数据源（当前：akshare、yfinance、easyquotation）
- **数据更新速度**：批量更新 100 只股票 < 5 分钟
- **系统可用性**：单数据源失败不影响整体功能

### 6.2 技术指标

- **响应时间**：API 响应时间 < 500ms（P95）
- **错误率**：API 错误率 < 1%
- **数据一致性**：多数据源数据格式统一率 100%

### 6.3 用户体验指标

- **操作便捷性**：核心功能操作步骤 < 3 步
- **反馈及时性**：实时进度更新延迟 < 1 秒
- **界面友好性**：界面清晰，操作流畅

### 6.4 量化交易指标（中期目标）

- **算法数量**：提供 10+ 预设量化投资算法
- **回测性能**：支持 5 年以上历史数据回测，回测速度 < 1 分钟（单策略）
- **回测分析**：提供完整的收益、风险、交易分析指标
- **算法覆盖**：覆盖主流量化策略类型（趋势、均值回归、套利等）

### 6.5 量化平台指标（长期目标）

- **算法平台**：支持用户自定义算法编辑和运行
- **实盘交易**：支持连接主流券商 API，实盘交易延迟 < 100ms
- **API 开放**：提供完整的开放 API，支持第三方集成
- **算法市场**：支持算法分享和交易（可选）

---

**文档维护**：本文档将根据产品发展持续更新
